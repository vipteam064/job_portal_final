{% extends 'base.html' %}
{% block content %}
<div class="container">
    <div class="row my-3 text-center">
        <div class="col-12 mb-2 col-lg-4 mb-lg-0">
            <div class="card" style="height: 100%;">
                <svg xmlns="http://www.w3.org/2000/svg" width="160" height="160" fill="currentColor" class="bi bi-clipboard2-fill card-img text-primary" viewBox="0 0 16 16" opacity="0.3" style="margin: 20px 0px;">
                  <path d="M9.5 0a.5.5 0 0 1 .5.5.5.5 0 0 0 .5.5.5.5 0 0 1 .5.5V2a.5.5 0 0 1-.5.5h-5A.5.5 0 0 1 5 2v-.5a.5.5 0 0 1 .5-.5.5.5 0 0 0 .5-.5.5.5 0 0 1 .5-.5h3Z"/>
                  <path d="M3.5 1h.585A1.498 1.498 0 0 0 4 1.5V2a1.5 1.5 0 0 0 1.5 1.5h5A1.5 1.5 0 0 0 12 2v-.5c0-.175-.03-.344-.085-.5h.585A1.5 1.5 0 0 1 14 2.5v12a1.5 1.5 0 0 1-1.5 1.5h-9A1.5 1.5 0 0 1 2 14.5v-12A1.5 1.5 0 0 1 3.5 1Z"/>
                </svg>
                <div class="card-img-overlay d-flex flex-column justify-content-around">
                    <h2 id="job_post_counter" class="card-text counter" data-to="{{counters.job_post_count}}">0</h2>
                    <h4 class="card-title">Total Job Post{{ counters.job_post_count|pluralize }}</h4>
                </div>
            </div>
        </div>
        <div class="col-12 mb-2 col-lg-4 mb-lg-0">
            <div class="card" style="height: 100%;">
                <svg xmlns="http://www.w3.org/2000/svg" width="160" height="160" fill="currentColor" class="bi bi-clipboard2-check-fill card-img text-primary" viewBox="0 0 16 16" opacity="0.3" style="margin: 20px 0px;">
                  <path d="M10 .5a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5.5.5 0 0 1-.5.5.5.5 0 0 0-.5.5V2a.5.5 0 0 0 .5.5h5A.5.5 0 0 0 11 2v-.5a.5.5 0 0 0-.5-.5.5.5 0 0 1-.5-.5Z"/>
                  <path d="M4.085 1H3.5A1.5 1.5 0 0 0 2 2.5v12A1.5 1.5 0 0 0 3.5 16h9a1.5 1.5 0 0 0 1.5-1.5v-12A1.5 1.5 0 0 0 12.5 1h-.585c.055.156.085.325.085.5V2a1.5 1.5 0 0 1-1.5 1.5h-5A1.5 1.5 0 0 1 4 2v-.5c0-.175.03-.344.085-.5Zm6.769 6.854-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 1 1 .708-.708L7.5 9.793l2.646-2.647a.5.5 0 0 1 .708.708Z"/>
                </svg>
                <div class="card-img-overlay d-flex flex-column justify-content-around">
                    <h2 id="active_post_counter" class="counter" data-to="{{counters.active_post_count}}">0</h2>
                    <h4 class="card-title">Active Job Post{{ counters.active_post_count|pluralize }}</h4>
                </div>
            </div>
        </div>
        <div class="col-12 col-lg-4">
            <div class="card" style="height: 100%;">
                <svg xmlns="http://www.w3.org/2000/svg" width="160" height="160" fill="currentColor" class="bi bi-clipboard2-x-fill card-img text-primary" viewBox="0 0 16 16" opacity="0.3" style="margin: 20px 0px;">
                  <path d="M10 .5a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5.5.5 0 0 1-.5.5.5.5 0 0 0-.5.5V2a.5.5 0 0 0 .5.5h5A.5.5 0 0 0 11 2v-.5a.5.5 0 0 0-.5-.5.5.5 0 0 1-.5-.5Z"/>
                  <path d="M4.085 1H3.5A1.5 1.5 0 0 0 2 2.5v12A1.5 1.5 0 0 0 3.5 16h9a1.5 1.5 0 0 0 1.5-1.5v-12A1.5 1.5 0 0 0 12.5 1h-.585c.055.156.085.325.085.5V2a1.5 1.5 0 0 1-1.5 1.5h-5A1.5 1.5 0 0 1 4 2v-.5c0-.175.03-.344.085-.5ZM8 8.293l1.146-1.147a.5.5 0 1 1 .708.708L8.707 9l1.147 1.146a.5.5 0 0 1-.708.708L8 9.707l-1.146 1.147a.5.5 0 0 1-.708-.708L7.293 9 6.146 7.854a.5.5 0 1 1 .708-.708L8 8.293Z"/>
                </svg>
                <div class="card-img-overlay d-flex flex-column justify-content-around">
                    <h2 id="inactive_post_counter" class="counter" data-to="{{counters.inactive_post_count}}">0</h2>
                    <h4 class="card-title">Inactive Job Post{{ counters.inactive_post_count|pluralize }}</h4>
                </div>
            </div>
        </div>
    </div>
    <script id="counter_script" type="text/javascript">
        document.addEventListener('DOMContentLoaded', (event) => {
            var counters = document.getElementsByClassName('counter');
            // call an update function every 75 milliseconds for max 1.5 seconds (20 times), and make it increment the counters
            for (var counter of counters) {
                counter.dataset.increment = Math.ceil(counter.dataset.to / 20);
                counter.dataset.intervalId = setInterval(update_counter, 75, counter);
            }
        });
        function update_counter(counter) {
            // increment by 1/20th of target value but if the new value is greater than or equal to target value then stop and display target value
            let value = parseInt(counter.textContent);
            value += parseInt(counter.dataset.increment);
            if (value >= counter.dataset.to) {
                clearInterval(counter.dataset.intervalId);
                value = counter.dataset.to;
            }
            counter.textContent = value;
        }
    </script>
    <div class="row justify-content-around">
        <!-- TODO: List Created Job Posts -->
        <a href="#" class="btn btn-primary">Click Here to Post a Job!</a>
        <a href="#"  class="btn btn-success">Subscribe Now and Start Posting Jobs!</a>
    </div>
    <hr class="clearfix" style="width: 0px;">
</div>
{% endblock content %}
